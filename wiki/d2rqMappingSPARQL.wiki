#summary How to map Wiktionary parsed database (MySQL) to RDF database by D2RQ.
#labels d2rq,Phase-Deploy,SPARQL,wikt_parsed

= Introduction =

[http://www4.wiwiss.fu-berlin.de/bizer/d2rq/ D2RQ] platform enables applications to access a RDF-view on a non-RDF database via the SPARQL Protocol.

= Setup =

Create MySQL user and provide access to the parsed Wiktionary database:
{{{
mysql> CREATE USER rdfmapper;
mysql> GRANT SELECT ON ruwikt20101101_parsed.* TO rdfmapper@'%';
mysql> FLUSH PRIVILEGES;
}}}

Download and install [http://www4.wiwiss.fu-berlin.de/bizer/d2rq/ D2RQ].

Generate `.n3` mapping file by the scheme of MySQL database:
{{{
cd C:\w\d2r-server-0.7\
generate-mapping -o mapping-wikt_parsed.n3 -u rdfmapper jdbc:mysql://localhost/ruwikt20101101_parsed
}}}

Change the following lines in the `.n3` mapping file:
  * delete lines with `index_ith.lat.foreign_has_definition` (_temporary_);
  * change `vocab` to `wikpa` (WIktionary PArsed database):
{{{
%s/vocab/wikpa/g
}}}
  * add lines:
{{{
map:Configuration a d2rq:Configuration;
    d2rq:resultSizeLimit 33.
}}}

Run server:
{{{
cd C:\w\d2r-server-0.7\
d2r-server mapping-wikt_parsed.n3
}}}

Open web browser:
{{{
http://localhost:2020
}}}

= SPARQL examples =

== Meaning definition by word and language ==

Let's find all definitions for the English word "dog":

Open URL: http://localhost:2020/snorql/

Paste SPARQL request:
{{{
SELECT ?langId ?pageId ?langPosId ?wikiTextId ?wikiText
WHERE {
    ?lang vocab:lang_code "en";
          vocab:lang_id ?langId.

    ?page vocab:page_page_title "dog";
          vocab:page_id ?pageId.

    ?lang_pos vocab:lang_pos_page_id ?pageId;
              vocab:lang_pos_lang_id ?langId;
              vocab:lang_pos_id ?langPosId.

    ?meaning vocab:meaning_id ?langPosId;
             vocab:meaning_wiki_text_id ?wikiTextId.

    ?wiki_text vocab:wiki_text_id ?wikiTextId;
               vocab:wiki_text_text ?wikiText.
}
}}}

== Get list of synonyms ==

Todo ...

== Translate word from one language to another ==

Todo ...

= See also =
  * [SQLExamples]